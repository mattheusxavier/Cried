{"version":3,"sources":["components/Header/styles.js","assets/hermit-crab.png","components/Header/index.js","pages/HomePage/styles.js","services/api.js","services/shortnerService.js","configs/vars.js","pages/HomePage/index.js","pages/RedirectPage/styles.js","pages/RedirectPage/index.js","pages/StatsPage/styles.js","pages/StatsPage/index.js","pages/NotFoundPage/index.js","routes/index.js","App.js","index.js"],"names":["HeaderContainer","styled","div","Logo","img","Header","props","src","Icone","alt","children","ContentContainer","Form","form","AdsBlock","baseAPI","baseURL","axios","create","ShortenerService","this","api","process","code","get","result","data","model","post","HomePage","handleSubmit","event","a","preventDefault","url","state","setState","isLoading","errorMessage","service","ShortnerService","generate","copyToClipboard","inputURL","select","document","execCommand","Container","onSubmit","InputGroup","className","FormControl","placeholder","defaultValue","onChange","e","target","value","Append","Button","variant","type","Spinner","animation","autoFocus","vars","ref","input","onClick","Alert","React","Component","StatsContainer","RedirectPage","match","params","getLink","window","location","size","color","href","StatsRow","StatsBox","StatsBoxTitle","StatsPage","shortenedURL","getStats","parsedDate","parseISO","updatedAt","currentDate","Date","relativeDate","formatRelative","locale","ptBR","hits","NotFoundPage","Routes","exact","path","component","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5c70d4e3.chunk.js","sourcesContent":["import styled from 'styled-components'\n\nexport const HeaderContainer = styled.div`\n    padding: 3rem;\n    text-align: center;\n`\n\nexport const Logo = styled.img`\n    max-width: 100%;\n    height: 42px;\n`\n\nexport const Logo2 = styled.img`\n    max-width: 100%;\n    height: 42px;\n`\n","export default __webpack_public_path__ + \"static/media/hermit-crab.d4b1eed7.png\";","import React from 'react'\nimport { Logo, HeaderContainer } from './styles'\n\nimport Icone from '../../assets/hermit-crab.png'\n\nfunction Header(props) {\n    return(\n        <>\n            <HeaderContainer>\n                <Logo src={Icone} alt='Pitu - Encurtador de URL' />\n                <h1>Cried</h1>\n                <p>{props.children}</p>\n            </HeaderContainer>\n        </>\n    )\n}\n\nexport default Header","import styled from 'styled-components'\n\nexport const ContentContainer = styled.div`\n    display: flex;\n    justify-content: center !important;\n    margin-bottom: 2rem;\n`\n\nexport const Form = styled.form`\n    flex: 0 0 80%;\n    max-width: 80%;\n    padding: 2rem 2rem 1rem 2rem;\n    border: solid 1px #CCC;\n    border-radius: .25rem;\n    text-align: center;\n`\nexport const AdsBlock = styled.div`\n    border: solid 1px #F7F7F7;\n    background-color: #F1F1F1;\n    text-align: center;\n    padding: 2rem;\n    flex: 0 0 80%;\n    max-width: 80%;\n`","import axios from 'axios'\n\nconst baseAPI = (baseURL) => {\n    const api = axios.create({\n        baseURL,\n    })\n\n    return api\n}\n\nexport default baseAPI","import baseAPI from './api'\n\nclass ShortenerService {\n    constructor() {\n        this.api = baseAPI(process.env.REACT_APP_API)\n    }\n\n    async getLink(code) {\n        const result = await this.api.get(`links/${code}`)\n\n        return result.data\n    }\n\n    async getStats(code) {\n        const result = await this.api.get(`links/${code}/stats`)\n\n        return result.data\n    }\n\n    async generate(model) {\n        const result = await this.api.post('links', model)\n\n        return result.data\n    }\n}\n\nexport default ShortenerService","export default {\n    API_BASE: process.env.REACT_APP_API,\n    HOST_APP: process.env.REACT_APP_HOST,\n}","import React from 'react'\nimport { Container, InputGroup, FormControl, Button, Alert, Spinner } from 'react-bootstrap'\n\nimport Header from '../../components/Header'\nimport { ContentContainer, Form, AdsBlock } from './styles'\nimport ShortnerService from '../../services/shortnerService'\n\nimport vars from '../../configs/vars'\nclass HomePage extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            isLoading: false,\n            url: '',\n            code: '',\n            errorMessage: '',\n        }\n    }\n\n    handleSubmit = async(event) => {\n        event.preventDefault()\n\n        const { url } = this.state\n\n        this.setState({ isLoading: true, errorMessage: ''})\n\n        if(!url){\n            this.setState({ isLoading: false, errorMessage: 'Informe a URL para encurtar!'})\n        } else {\n            try {\n                const service = new ShortnerService()\n                const result = await service.generate({ url })\n\n                this.setState({ isLoading: false, code: result.code })\n            } catch (error) {\n                this.setState({ isLoading: false, errorMessage: 'Ops, ocorreu um erro ao tentar encurtar a URL. :(' })\n            }\n        }\n    }\n\n    copyToClipboard = () => {\n        const element = this.inputURL\n        element.select()\n        document.execCommand('copy')\n    }\n\n    render() {\n\n        const { isLoading, errorMessage, code } = this.state\n\n        return (\n            <Container>\n                <Header>Seu novo encurtador de URL. :)</Header>\n                <ContentContainer>\n                    <Form onSubmit={this.handleSubmit}>\n                        <InputGroup className=\"mb-3\">\n                            <FormControl \n                                placeholder=\"Digite a URL para encurtar\" \n                                defaultValue=\"\"\n                                onChange={ e => this.setState({ url: e.target.value })}\n                            />\n                            <InputGroup.Append>\n                                <Button variant=\"primary\" type=\"submit\"> Encurtar </Button>\n                            </InputGroup.Append>                                \n                        </InputGroup>\n\n                        {isLoading ? (\n                            <Spinner animation=\"border\"/>\n                        ) : (\n                            code && (\n                                <>\n                                    <InputGroup className=\"mb-3\">\n                                        <FormControl \n                                            autoFocus={true}\n                                            defaultValue={vars.HOST_APP + code}\n                                            ref={(input) => this.inputURL = input}\n                                        />\n                                        <InputGroup.Append>\n                                            <Button variant=\"outline-secondary\" onClick={() => this.copyToClipboard()}> Copiar </Button>\n                                        </InputGroup.Append>                                \n                                    </InputGroup>\n                                    <p>Para acompanhar as estatíticas, acesse {vars.HOST_APP + code}/stats</p>\n                                </>\n                            )\n                        )}\n                        {errorMessage && <Alert variant=\"danger\">{errorMessage}</Alert>}\n                    </Form>\n                </ContentContainer>\n                <ContentContainer>\n                    <AdsBlock> Adsense </AdsBlock>\n                </ContentContainer>\n            </Container>\n        )\n    }\n}\n\nexport default HomePage","import styled from 'styled-components'\n\nexport const StatsContainer = styled.div`\n    display: block;\n`","import React from 'react'\nimport Header from '../../components/Header'\nimport { Container } from 'react-bootstrap'\n\nimport { StatsContainer } from './styles'\n\nimport { FaExclamationTriangle } from 'react-icons/fa'\n\nimport ShortenerService from '../../services/shortnerService'\n\nclass RedirectPage extends React.Component {\n    constructor(props) {\n        super(props)\n        \n        this.state = {\n            isLoading: false,\n            url: '',\n            errorMessage: '',\n        }\n    }\n\n    async componentDidMount() {\n        const { code } = this.props.match.params\n\n        try {\n            const service = new ShortenerService()\n            const { url } = await service.getLink(code)\n\n            window.location = url\n        } catch (error) {\n            this.setState({ isLoading: false, errorMessage: 'Ops, a URL solicitada não existe! :( ' })\n        }\n    }\n\n    render() {\n        const { errorMessage } = this.state\n        return (\n            <Container>\n                {errorMessage ? (\n                    <>\n                        <Header>\n                            Seu novo encurtador de URL.\n                        </Header>\n                        <StatsContainer className=\"text-center\">\n                            <FaExclamationTriangle size=\"62px\" color=\"#F8D7DA\" />\n                            <p className=\"m-3\">{errorMessage}</p>\n                            <a className=\"btn btn-primary\" href=\"/\">Encurtar nova URL</a>\n                        </StatsContainer>\n                    </>\n                ) : (\n                    <Header>Redirecionando...</Header>\n                ) }\n            </Container>\n        )\n    }\n}\n\nexport default RedirectPage","import styled from 'styled-components'\n\nexport const StatsContainer = styled.div`\n    display: block;\n`\n\nexport const StatsRow = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center !important;\n    margin-bottom: 0.5rem;\n`\n\nexport const StatsBox = styled.div`\n    flex: 0 0 25%;\n    max-width: 25%;\n    padding: 2rem;\n    border: solid 1px #CCC;\n    border-radius: .25rem;\n    text-align: center;\n    margin: .5rem;\n`\n\nexport const StatsBoxTitle = styled.div`\n    font-weight: 500;\n    padding: 0.25rem;\n    display: block;\n`","import React from 'react'\nimport Header from '../../components/Header'\nimport { Container } from 'react-bootstrap'\n\nimport ShortenerService from '../../services/shortnerService'\n\nimport { StatsBox, StatsBoxTitle, StatsContainer, StatsRow } from './styles'\n\nimport { FaExclamationTriangle } from 'react-icons/fa'\n\nimport { parseISO, formatRelative } from 'date-fns'\n\nimport ptBR from 'date-fns/locale/pt-BR'\n\nimport vars from '../../configs/vars'\nclass StatsPage extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            isLoading: false,\n            shortenedURL: {},\n            errorMessage: '',\n        }\n    }\n\n    async componentDidMount() {\n        const { code } = this.props.match.params\n\n        try {\n            const service = new ShortenerService()\n            const shortenedURL = await service.getStats(code)\n\n            const parsedDate = parseISO(shortenedURL.updatedAt)\n            const currentDate = new Date()\n\n            const relativeDate = formatRelative(parsedDate, currentDate, {\n                locale: ptBR\n            }) \n\n            shortenedURL.relativeDate = relativeDate\n\n            this.setState({ isLoading: false, shortenedURL })\n        } catch (error) {\n            this.setState({ isLoading: false, errorMessage: 'Ops, a URL solicitada não existe. :( '})\n        }\n    }\n    \n    render() {\n        const {errorMessage, shortenedURL} = this.state\n        return (\n            <Container>\n                <Header>Estatísticas: </Header>\n                {errorMessage ? (\n                    <StatsContainer className=\"text-center\">\n                        <FaExclamationTriangle size=\"62px\" color=\"#F8D7DA\" />\n                        <p className=\"m-3\">{errorMessage}</p>\n                        <a className=\"btn btn-primary\" href=\"/\">Encurtar nova URL</a>\n                    </StatsContainer>\n                ) : (\n                    <StatsContainer className=\"text-center\">\n                        <p><b>{vars.HOST_APP + shortenedURL.code}</b></p>\n                        <p>Redireciona para <br/> {shortenedURL.url}</p>\n                        <StatsRow>\n                            <StatsBox>\n                                <b>{shortenedURL.hits}</b>\n                                <StatsBoxTitle>Visitas</StatsBoxTitle>\n                            </StatsBox>\n                            <StatsBox>\n                                <b>{shortenedURL.relativeDate}</b>\n                                <StatsBoxTitle>Última visita</StatsBoxTitle>\n                            </StatsBox>\n                        </StatsRow>\n                        <a className=\"btn btn-primary\" href=\"/\">Encurtar nova URL</a>\n                    </StatsContainer>\n                )}\n            </Container>\n        )\n    }\n}\n\nexport default StatsPage","import React from 'react'\n\nclass NotFoundPage extends React.Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n        return (\n            <p>Not Found Page Cried</p>\n        )\n    }\n}\n\nexport default NotFoundPage","import React from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\n\nimport HomePage from '../pages/HomePage'\nimport RedirectPage from '../pages/RedirectPage'\nimport StatsPage from '../pages/StatsPage'\nimport NotFoundPage from '../pages/NotFoundPage'\n\nfunction Routes() {\n    return (\n        <BrowserRouter>\n            <Switch>\n                <Route exact path=\"/\" component={HomePage}/>\n                <Route exact path=\"/:code\" component={RedirectPage}/>\n                <Route exact path=\"/:code/stats\" component={StatsPage}/>\n                <Route exact path=\"/*\" component={NotFoundPage}/>\n            </Switch>\n        </BrowserRouter>\n    )\n}\n\nexport default Routes","import Routes from './routes'\n\nconst App = () => <Routes />\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './App.scss'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}